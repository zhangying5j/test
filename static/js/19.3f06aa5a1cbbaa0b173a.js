webpackJsonp([19],{"5uXo":function(e,t){},Fdzy:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("Dd8w"),i=a.n(l),s=a("NYxO"),n=a("P0XF"),o={name:"BizCodeType",data:function(){return{queryData:{bizTypeName:""},rules:{bizTypeName:[{required:!0,trigger:"blur",message:"查询条件不能为空"}]},specialTableBtn:{width:"100%",marginTop:"5px",border:"1px dashed #15afff",background:"#fff",color:"#15afff",display:"block"},data:[{no:"01",eName:"usePro",cName:"使用性质",isFlag:"是",valType:"枚举型",isOrgSpecial:"否",checkTab:"",isEdit:!1},{no:"02",eName:"carType",cName:"车辆种类",isFlag:"是",valType:"枚举型",isOrgSpecial:"是",checkTab:"",isEdit:!1},{no:"03",eName:"comLastAmount",cName:"商业险上年出险金额",isFlag:"是",valType:"连续型分段",isOrgSpecial:"否",checkTab:"",isEdit:!1}],multipleSelection:[],treeVisible:!1,currentIndex:0,treeData:[{id:"1",label:"车辆信息表",children:[{id:"1.1",label:"使用性质",value:"车辆信息表.使用性质"},{id:"1.2",label:"车辆种类",value:"车辆信息表.车辆种类"},{id:"1.3",label:"车辆颜色",value:"车辆信息表.车辆颜色"}]},{id:"2",label:"商业险信息表",children:[{id:"2.1",label:"保费金额",value:"商业险信息表.保费金额"},{id:"2.2",label:"出险次数",value:"商业险信息表.出险次数"},{id:"2.3",label:"出险金额",value:"商业险信息表.出险金额"}]}]}},methods:{query:function(){var e=this;this.$refs.queryForm.validate(function(t){t&&("使用性质"===e.queryData.bizTypeName?e.data=[{no:"01",eName:"usePro",cName:"使用性质",isFlag:"是",valType:"枚举型",isOrgSpecial:"否",checkTab:"",isEdit:!1}]:"车辆种类"===e.queryData.bizTypeName?e.data=[{no:"02",eName:"carType",cName:"车辆种类",isFlag:"是",valType:"枚举型",isOrgSpecial:"是",checkTab:"",isEdit:!1}]:"商业险上年出险金额"===e.queryData.bizTypeName&&(e.data=[{no:"03",eName:"comLastAmount",cName:"商业险上年出险金额",isFlag:"是",valType:"连续型分段",isOrgSpecial:"否",checkTab:"",isEdit:!1}]))})},handleSelectionChange:function(e){var t=this;this.multipleSelection=[],e.forEach(function(e){t.multipleSelection.push(e.no)})},edit:function(){var e=this;this.multipleSelection.length>0&&this.data.forEach(function(t){e.multipleSelection.includes(t.no)&&(t.isEdit=!0)})},save:function(){this.data.forEach(function(e){e.isEdit=!1})},editCheck:function(e){this.currentIndex=e,this.treeVisible=!0},sure:function(){var e="";this.$refs.tree.getCheckedNodes().forEach(function(t){void 0===t.children&&(e+=t.value+",")}),e=e.substring(0,e.length-1),this.data[this.currentIndex].checkTab=e,this.cancel()},cancel:function(){this.$refs.tree.setCheckedKeys([]),this.treeVisible=!1,this.currentIndex=0},add:function(){var e=Object(n.a)();console.log(e);var t={no:e,eName:"",cName:"",isFlag:"",valType:"",isOrgSpecial:"",checkTab:"",isEdit:!0};this.data.push(t)},removeRecord:function(e){var t=this;this.$confirm("确定删除此条数据记录吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a=t.data.findIndex(function(t){return t.no===e});t.data.splice(a,1),t.$message({type:"success",message:"删除成功!"})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})}},computed:i()({},Object(s.c)({tableHeader:function(e){return e.app.tableHeader}}))},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"form"},[a("el-form",{ref:"queryForm",attrs:{"label-width":"160px",model:e.queryData,rules:e.rules,inline:!0}},[a("el-form-item",{attrs:{label:"业务代码分类名称",prop:"bizTypeName"}},[a("el-input",{model:{value:e.queryData.bizTypeName,callback:function(t){e.$set(e.queryData,"bizTypeName",t)},expression:"queryData.bizTypeName"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{plain:"",size:"small",type:"primary"},on:{click:e.query}},[e._v("查询")])],1)],1)],1),e._v(" "),a("div",{staticClass:"data"},[a("div",{staticClass:"table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.data,stripe:"","header-cell-style":e.tableHeader},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"eName",label:"英文名称","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.isEdit?a("el-input",{staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"请输入英文名称"},model:{value:t.row.eName,callback:function(a){e.$set(t.row,"eName",a)},expression:"scope.row.eName"}}):a("span",[e._v(e._s(t.row.eName))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"cName",label:"中文名称","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.isEdit?a("el-input",{staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"请输入中文名称"},model:{value:t.row.cName,callback:function(a){e.$set(t.row,"cName",a)},expression:"scope.row.cName"}}):a("span",[e._v(e._s(t.row.cName))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"isFlag",label:"是否标志类","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.isEdit?a("el-select",{attrs:{placeholder:"请选择是否标志类"},model:{value:t.row.isFlag,callback:function(a){e.$set(t.row,"isFlag",a)},expression:"scope.row.isFlag"}},[a("el-option",{attrs:{label:"是",value:"是"}}),e._v(" "),a("el-option",{attrs:{label:"否",value:"否"}})],1):a("span",[e._v(e._s(t.row.isFlag))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"valType",label:"业务代码类型","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.isEdit?a("el-select",{attrs:{placeholder:"请选择业务代码类型"},model:{value:t.row.valType,callback:function(a){e.$set(t.row,"valType",a)},expression:"scope.row.valType"}},[a("el-option",{attrs:{label:"枚举型",value:"枚举型"}}),e._v(" "),a("el-option",{attrs:{label:"连续型分段",value:"连续型分段"}})],1):a("span",[e._v(e._s(t.row.valType))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"isOrgSpecial",label:"是否机构个性化代码","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.isEdit?a("el-select",{attrs:{placeholder:"请选择是否机构个性化代码"},model:{value:t.row.isOrgSpecial,callback:function(a){e.$set(t.row,"isOrgSpecial",a)},expression:"scope.row.isOrgSpecial"}},[a("el-option",{attrs:{label:"是",value:"是"}}),e._v(" "),a("el-option",{attrs:{label:"否",value:"否"}})],1):a("span",[e._v(e._s(t.row.isOrgSpecial))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"checkTab",label:"校验数据表","min-width":"120"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"设置校验数据表",placement:"top"}},[a("el-button",{attrs:{size:"small",type:"text",icon:"iconfont icon-bianji"},on:{click:function(a){e.editCheck(t.$index)}}})],1),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除",placement:"top"}},[a("el-button",{staticStyle:{color:"#FE2B6F"},attrs:{type:"text",size:"small",icon:"iconfont icon-iconfont-shanchu"},nativeOn:{click:function(a){a.preventDefault(),e.removeRecord(t.row.no)}}})],1)]}}])})],1)],1),e._v(" "),a("el-button",{style:e.specialTableBtn,attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.add}},[e._v("\n      新增行\n    ")])],1),e._v(" "),a("div",{staticClass:"option"},[a("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:e.edit}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:e.save}},[e._v("暂存")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small",plain:""}},[e._v("导入")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small",plain:""}},[e._v("导出")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small",plain:""}},[e._v("发布")])],1),e._v(" "),a("el-dialog",{attrs:{title:"设置校验数据表",visible:e.treeVisible,width:"40%"},on:{"update:visible":function(t){e.treeVisible=t}}},[a("el-tree",{ref:"tree",attrs:{data:e.treeData,"show-checkbox":"","node-key":"id"}}),e._v(" "),a("div",{staticClass:"option",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.sure}},[e._v("确定")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.cancel}},[e._v("取消")])],1)],1)],1)},staticRenderFns:[]};var c=a("VU/8")(o,r,!1,function(e){a("5uXo")},"data-v-7db897f4",null);t.default=c.exports}});
//# sourceMappingURL=19.3f06aa5a1cbbaa0b173a.js.map