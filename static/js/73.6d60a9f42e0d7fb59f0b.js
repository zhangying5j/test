webpackJsonp([73],{"5aui":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("Dd8w"),i=r.n(n),u=r("NYxO"),o={name:"BudgetAdd",components:{QueryForm:function(){return r.e(79).then(r.bind(null,"Hb8j"))}},data:function(){return{budget:{formulateInstitution:"",type:"",channel:"",timeSlot:"",version:"",bore:"",productType:""},rules:{formulateInstitution:[{required:!0,trigger:"change",message:"预算制定机构不能为空"}],type:[{required:!0,trigger:"change",message:"预算类型不能为空"}],channel:[{required:!0,trigger:"change",message:"预算渠道不能为空"}],timeSlot:[{required:!0,trigger:"change",message:"预算时间段不能为空"}],bore:[{required:!0,trigger:"change",message:"预算口径不能为空"}],productType:[{required:!0,trigger:"change",message:"业务分类不能为空"}]}}},computed:i()({},Object(u.c)({formData:function(e){return e.budget.formData}}),{timeSlots:function(){var e=this.budget.type+"";return"month"===e?this.resetTime("201801"):"year"===e&&this.resetTime("2018"),[]}}),methods:{resetForm:function(){this.$refs.addFrom.reset()},createBudget:function(){this.$refs.addFrom.valid()},toAddBudget:function(){var e=this,t=this.formData,r=t.types.find(function(t){return t.code===e.budget.type}),n=t.channelList.find(function(t){return t.code===e.budget.channel}),i=r.timeSlots.find(function(t){return t.code===e.budget.timeSlot}),u=t.boreList.find(function(t){return t.code===e.budget.bore}),o=t.productTypeList.find(function(t){return t.code===e.budget.productType});this.$store.dispatch("setAddData",{formulateInstitution:this.budget.formulateInstitution,type:r.name,channel:n.name,timeSlot:i.name,bore:u.name,productType:o.name}),this.$router.push({path:"/admin/budget/add/create"})},resetTime:function(e){this.budget.timeSlot=e}}},d={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("div",{staticClass:"form"},[r("query-form",{ref:"addFrom",attrs:{budget:e.budget,rules:e.rules,validMethod:"toAddBudget"},on:{toAddBudget:e.toAddBudget}})],1),e._v(" "),r("div",{staticClass:"option"},[r("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:e.resetForm}},[e._v("重置")]),e._v(" "),r("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:e.createBudget}},[e._v("新增")])],1),e._v(" "),r("router-view")],1)},staticRenderFns:[]},a=r("VU/8")(o,d,!1,null,null,null);t.default=a.exports}});
//# sourceMappingURL=73.6d60a9f42e0d7fb59f0b.js.map